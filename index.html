<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>YouTube Thumbnail Downloader</title>
  <link rel="icon" type="image/png" href="ms.jpeg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      scroll-behavior: smooth;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    main {
      flex: 1;
    }
    .popup {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 12px 20px;
      border-radius: 5px;
      display: none;
      z-index: 999;
    }
    /* Bars Loader Animation */
    .bars {
      display: flex;
      gap: 6px;
      align-items: center;
      height: 60px;
      justify-content: center;
    }
    .bar {
      width: 6px;
      background: #38bdf8;
      border-radius: 3px;
      animation: pulse 1s ease-in-out infinite;
      animation-delay: calc(var(--i) * 0.1s);
      transform-origin: center;
    }
    @keyframes pulse {
      0%, 100% { height: 10px; }
      50% { height: 50px; }
    }
    .instagram-icon {
      position: fixed;
      right: 30px;
      bottom: 30px;
      z-index: 1000;
      background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }
    .instagram-icon:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    .instagram-icon a {
      color: white;
      font-size: 28px;
      text-decoration: none;
    }
  </style>
</head>
<body class="bg-gray-100">

  <!-- Navbar -->
  <nav class="bg-white shadow-sm fixed w-full z-10 top-0">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <span class="text-xl font-bold text-indigo-600">MS<span class="text-gray-800">Developing.</span></span>
        </div>
        <div class="hidden md:flex items-center space-x-8">
          <a href="#home" class="text-gray-700 hover:text-indigo-600">Home</a>
        </div>
        <div class="md:hidden flex items-center">
          <button id="mobile-menu-button" class="text-gray-500 hover:text-gray-900">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-md">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a href="#home" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-gray-50">Home</a>
      </div>
    </div>
  </nav>

  <!-- Main Section -->
  <main class="mt-24 max-w-xl mx-auto bg-white p-6 rounded shadow-md text-center">
    <h1 class="text-xl font-bold mb-4">Download YouTube Thumbnail</h1>
    <input type="text" id="videoUrl" placeholder="Enter YouTube video URL" class="border border-gray-300 p-2 w-full rounded mb-4" />
    <select id="quality" class="border border-gray-300 p-2 w-full rounded mb-4">
      <option value="maxresdefault">Max Quality</option>
      <option value="hqdefault">High Quality</option>
      <option value="mqdefault">Medium Quality</option>
      <option value="default">Low Quality</option>
    </select>
    <button onclick="downloadThumbnail()" class="bg-pink-500 text-white px-4 py-2 rounded w-full">Download</button>

    <!-- Loader (hidden by default) -->
    <div id="loader" class="bars mt-4 hidden">
      <div class="bar" style="--i:1"></div>
      <div class="bar" style="--i:2"></div>
      <div class="bar" style="--i:3"></div>
      <div class="bar" style="--i:4"></div>
      <div class="bar" style="--i:5"></div>
      <div class="bar" style="--i:6"></div>
      <div class="bar" style="--i:7"></div>
      <div class="bar" style="--i:8"></div>
      <div class="bar" style="--i:9"></div>
      <div class="bar" style="--i:10"></div>
      <div class="bar" style="--i:11"></div>
    </div>
  </main>

  <!-- Popup -->
  <div class="popup" id="popup"></div>

  <!-- ✅ Fixed Centered Footer -->
  <footer class="bg-gray-900 text-white py-8 px-4">
    <div class="max-w-7xl mx-auto text-center">
      <div class="flex flex-col items-center justify-center space-y-3">
        <span class="text-xl font-bold text-indigo-400"><span class="text-white"></span></span>
        <p class="text-gray-400 text-sm">We use my tool in free.</p>
        <p class="text-gray-400 text-sm">
          © 2025 <a href="#" class="text-indigo-400 hover:underline">MS Developing.</a>
        </p>
      </div>
    </div>
  </footer>

  <script>
    async function downloadThumbnail() {
      const loader = document.getElementById("loader");
      loader.classList.remove("hidden"); // show loader

      const url = document.getElementById("videoUrl").value.trim();
      const quality = document.getElementById("quality").value;
      const videoId = extractVideoID(url);
      if (!videoId) {
        loader.classList.add("hidden");
        return showPopup("Invalid YouTube URL");
      }

      const imageUrl = `https://img.youtube.com/vi/${videoId}/${quality}.jpg`;

      try {
        const response = await fetch(imageUrl);
        if (!response.ok) throw new Error("Not found");
        const blob = await response.blob();
        const downloadUrl = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = downloadUrl;
        a.download = `${videoId}_${quality}.jpg`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(downloadUrl);
        showPopup("Thumbnail downloaded!");
      } catch {
        showPopup("Download failed.");
      } finally {
        loader.classList.add("hidden"); // hide loader
      }
    }

    function extractVideoID(url) {
      const regExp = /^.*(?:youtu.be\/|v\/|embed\/|watch\?v=|watch\?.+&v=)([^#&?]{11}).*/;
      const match = url.match(regExp);
      return match ? match[1] : null;
    }

    function showPopup(message) {
      const popup = document.getElementById("popup");
      popup.textContent = message;
      popup.style.display = "block";
      setTimeout(() => popup.style.display = "none", 3000);
    }

    // Mobile menu toggle
    document.getElementById('mobile-menu-button').addEventListener('click', function () {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
  </script>
</body>
</html>
